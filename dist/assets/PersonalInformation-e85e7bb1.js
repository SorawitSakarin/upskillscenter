import{u as g,r as i,A as f,j as e,a as v}from"./index-55cceeff.js";import{u as y}from"./http-hook-dc2aacf9.js";/* empty css                            */import{l as N}from"./Logo-0e0f3b64.js";import{u as b}from"./useLeavePageWarning-fc16e788.js";import{F as a}from"./Form-e975255d.js";import"./ElementChildren-9bc860c0.js";const D=()=>{const d=g(),c=i.useContext(f),{isLoading:h,error:C,sendRequest:o,clearError:I}=y(),n=JSON.parse(localStorage.getItem("school")||"null"),m={backgroundImage:`url(${n==null?void 0:n.backgroundLogin})`},[t,p]=i.useState({firstName:"",lastName:"",sex:"",birthDate:"",email:"",phone:"",goal:""}),r=l=>{const{name:s,value:x}=l.target;p(j=>({...j,[s]:x}))},u=async l=>{l.preventDefault(),console.log("Input values:",t);try{const s=await o("https://upskill-develop.herokuapp.com/api/student/update/"+c.userId,"PUT",JSON.stringify(t),{"Content-Type":"application/json"});console.log(s),d("/home")}catch(s){console.log(s),alert(s)}};return b(!(()=>Object.values(t).every(l=>l!==""))()),i.useEffect(()=>{(async()=>{try{const s=await o(`https://upskill-develop.herokuapp.com/api/student/${c.userId}`);p({...t,firstName:s.data.firstName,lastName:s.data.lastName}),console.log(s),s.data.goal.length!=0&&d("/home")}catch{}})()},[o]),e.jsxs("div",{className:"pi-background",style:m,children:[h&&e.jsx(v,{}),!h&&e.jsx("div",{className:"pi-body",children:e.jsxs("div",{className:"pi-card",children:[e.jsx("img",{src:N,className:"pi-logo"}),e.jsx("div",{style:{position:"relative",marginTop:"26px"},children:e.jsx("h1",{children:"Personal Information"})}),e.jsx("div",{className:"pi-form ",children:e.jsxs(a,{onSubmit:u,className:"pi-form",children:[e.jsxs("div",{className:"pi-form-row gap-6",children:[e.jsxs(a.Group,{controlId:"formBasicFirstName",style:{width:"50%"},children:[e.jsx(a.Label,{children:e.jsx("h2",{children:"Name"})}),e.jsx(a.Control,{type:"text",name:"firstName",value:t.firstName,onChange:r,placeholder:"Enter first name",style:{padding:"10px"},required:!0})]}),e.jsxs(a.Group,{controlId:"formBasicLastName",style:{width:"50%"},children:[e.jsx(a.Label,{children:e.jsx("h2",{children:"Surname"})}),e.jsx(a.Control,{type:"text",name:"lastName",value:t.lastName,onChange:r,placeholder:"Enter last name",style:{padding:"10px"},required:!0})]})]}),e.jsxs("div",{className:"pi-form-row gap-6",children:[e.jsxs(a.Group,{controlId:"formBasicsex",style:{width:"50%"},children:[e.jsx(a.Label,{children:e.jsx("h2",{children:"Gender"})}),e.jsxs(a.Control,{as:"select",name:"sex",value:t.sex,onChange:r,style:{padding:"10px"},required:!0,children:[e.jsx("option",{value:"",children:"--Select gender--"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs(a.Group,{controlId:"formBasicbirthDate",style:{width:"50%"},children:[e.jsx(a.Label,{children:e.jsx("h2",{children:"Date of Birth"})}),e.jsx(a.Control,{type:"date",name:"birthDate",value:t.birthDate,onChange:r,style:{padding:"10px"},required:!0})]})]}),e.jsxs("div",{className:"pi-form-row gap-6",children:[e.jsxs(a.Group,{controlId:"formBasicEmail",style:{width:"50%"},children:[e.jsx(a.Label,{children:e.jsx("h2",{children:"Email Address"})}),e.jsx(a.Control,{type:"email",name:"email",value:t.email,onChange:r,placeholder:"name@emample.com",style:{padding:"10px"},required:!0})]}),e.jsxs(a.Group,{controlId:"formBasicPhone",style:{width:"50%"},children:[e.jsx(a.Label,{children:e.jsx("h2",{style:{bottom:"0px"},children:"Phone Number"})}),e.jsx(a.Control,{type:"text",name:"phone",value:t.phone,onChange:r,placeholder:"XX-XXXXXXXX",style:{padding:"10px"},required:!0})]})]}),e.jsx("div",{className:"pi-form-row",children:e.jsxs(a.Group,{controlId:"formBasicGoal",style:{width:"100%"},children:[e.jsx(a.Label,{children:e.jsx("h2",{children:"Goal"})}),e.jsx(a.Control,{as:"textarea",rows:1,name:"goal",value:t.goal,onChange:r,placeholder:"Enter your goal",style:{padding:"10px"},required:!0})]})}),e.jsx("div",{className:"pi-form-row-btn",children:e.jsx("button",{type:"submit",className:"pi-btn-submit",children:e.jsx("h2",{children:"Submit"})})})]})})]})})]})};export{D as default};
