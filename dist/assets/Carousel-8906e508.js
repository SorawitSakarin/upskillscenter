import{r as t,e as we,W as je,s as De,c as j,b as le,j as o,t as $e,X as Le,d as ae,F as Me,T as Ae,y as Oe}from"./index-55cceeff.js";import{A as oe}from"./Anchor-149a2421.js";import{u as Pe}from"./hook-e9eee1cb.js";import"./react-lifecycles-compat.es-22c986ff.js";import{f as Xe,m as ie}from"./ElementChildren-9bc860c0.js";function _e(r,s){var i=t.useRef(!0);t.useEffect(function(){if(i.current){i.current=!1;return}return r()},s)}var H=Math.pow(2,31)-1;function ce(r,s,i){var v=i-Date.now();r.current=v<=H?setTimeout(s,v):setTimeout(function(){return ce(r,s,i)},H)}function We(){var r=we(),s=t.useRef();return je(function(){return clearTimeout(s.current)}),t.useMemo(function(){var i=function(){return clearTimeout(s.current)};function v(l,d){d===void 0&&(d=0),r()&&(i(),d<=H?s.current=setTimeout(l,d):ce(s,l,Date.now()+d))}return{set:v,clear:i}},[])}const Fe=De("carousel-caption"),ue=t.forwardRef(({as:r="div",bsPrefix:s,className:i,...v},l)=>{const d=j(i,le(s,"carousel-item"));return o.jsx(r,{ref:l,...v,className:d})});ue.displayName="CarouselItem";const He=ue,Ue=40,Be={slide:!0,fade:!1,controls:!0,indicators:!0,indicatorLabels:[],defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:o.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:o.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};function Ke(r){if(!r||!r.style||!r.parentNode||!r.parentNode.style)return!1;const s=getComputedStyle(r);return s.display!=="none"&&s.visibility!=="hidden"&&getComputedStyle(r.parentNode).display!=="none"}const U=t.forwardRef((r,s)=>{const{as:i="div",bsPrefix:v,slide:l,fade:d,controls:de,indicators:D,indicatorLabels:$,activeIndex:p,onSelect:h,onSlide:E,onSlid:S,interval:T,keyboard:B,onKeyDown:L,pause:b,onMouseOver:M,onMouseOut:A,wrap:y,touch:K,onTouchStart:O,onTouchMove:P,onTouchEnd:X,prevIcon:fe,prevLabel:V,nextIcon:me,nextLabel:Y,variant:q,className:ve,children:_,...pe}=Pe(r,{activeIndex:"onSelect"}),f=le(v,"carousel"),N=$e(),I=t.useRef(null),[z,G]=t.useState("next"),[he,k]=t.useState(!1),[R,J]=t.useState(!1),[a,xe]=t.useState(p||0);t.useEffect(()=>{!R&&p!==a&&(I.current?G(I.current):G((p||0)>a?"next":"prev"),l&&J(!0),xe(p||0))},[p,R,a,l]),t.useEffect(()=>{I.current&&(I.current=null)});let x=0,Q;Xe(_,(e,n)=>{++x,n===p&&(Q=e.props.interval)});const Z=Le(Q),c=t.useCallback(e=>{if(R)return;let n=a-1;if(n<0){if(!y)return;n=x-1}I.current="prev",h==null||h(n,e)},[R,a,h,y,x]),u=ae(e=>{if(R)return;let n=a+1;if(n>=x){if(!y)return;n=0}I.current="next",h==null||h(n,e)}),W=t.useRef();t.useImperativeHandle(s,()=>({element:W.current,prev:c,next:u}));const ee=ae(()=>{!document.hidden&&Ke(W.current)&&(N?c():u())}),C=z==="next"?"start":"end";_e(()=>{l||(E==null||E(a,C),S==null||S(a,C))},[a]);const Ce=`${f}-item-${z}`,be=`${f}-item-${C}`,Ne=t.useCallback(e=>{Me(e),E==null||E(a,C)},[E,a,C]),Ie=t.useCallback(()=>{J(!1),S==null||S(a,C)},[S,a,C]),Re=t.useCallback(e=>{if(B&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),N?u(e):c(e);return;case"ArrowRight":e.preventDefault(),N?c(e):u(e);return}L==null||L(e)},[B,L,c,u,N]),Ee=t.useCallback(e=>{b==="hover"&&k(!0),M==null||M(e)},[b,M]),Se=t.useCallback(e=>{k(!1),A==null||A(e)},[A]),te=t.useRef(0),w=t.useRef(0),ne=We(),Te=t.useCallback(e=>{te.current=e.touches[0].clientX,w.current=0,b==="hover"&&k(!0),O==null||O(e)},[b,O]),ye=t.useCallback(e=>{e.touches&&e.touches.length>1?w.current=0:w.current=e.touches[0].clientX-te.current,P==null||P(e)},[P]),ge=t.useCallback(e=>{if(K){const n=w.current;Math.abs(n)>Ue&&(n>0?c(e):u(e))}b==="hover"&&ne.set(()=>{k(!1)},T||void 0),X==null||X(e)},[K,b,c,u,ne,T,X]),re=T!=null&&!he&&!R,F=t.useRef();t.useEffect(()=>{var e,n;if(!re)return;const m=N?c:u;return F.current=window.setInterval(document.visibilityState?ee:m,(e=(n=Z.current)!=null?n:T)!=null?e:void 0),()=>{F.current!==null&&clearInterval(F.current)}},[re,c,u,Z,T,ee,N]);const se=t.useMemo(()=>D&&Array.from({length:x},(e,n)=>m=>{h==null||h(n,m)}),[D,x,h]);return o.jsxs(i,{ref:W,...pe,onKeyDown:Re,onMouseOver:Ee,onMouseOut:Se,onTouchStart:Te,onTouchMove:ye,onTouchEnd:ge,className:j(ve,f,l&&"slide",d&&`${f}-fade`,q&&`${f}-${q}`),children:[D&&o.jsx("div",{className:`${f}-indicators`,children:ie(_,(e,n)=>o.jsx("button",{type:"button","data-bs-target":"","aria-label":$!=null&&$.length?$[n]:`Slide ${n+1}`,className:n===a?"active":void 0,onClick:se?se[n]:void 0,"aria-current":n===a},n))}),o.jsx("div",{className:`${f}-inner`,children:ie(_,(e,n)=>{const m=n===a;return l?o.jsx(Ae,{in:m,onEnter:m?Ne:void 0,onEntered:m?Ie:void 0,addEndListener:Oe,children:(g,ke)=>t.cloneElement(e,{...ke,className:j(e.props.className,m&&g!=="entered"&&Ce,(g==="entered"||g==="exiting")&&"active",(g==="entering"||g==="exiting")&&be)})}):t.cloneElement(e,{className:j(e.props.className,m&&"active")})})}),de&&o.jsxs(o.Fragment,{children:[(y||p!==0)&&o.jsxs(oe,{className:`${f}-control-prev`,onClick:c,children:[fe,V&&o.jsx("span",{className:"visually-hidden",children:V})]}),(y||p!==x-1)&&o.jsxs(oe,{className:`${f}-control-next`,onClick:u,children:[me,Y&&o.jsx("span",{className:"visually-hidden",children:Y})]})]})]})});U.displayName="Carousel";U.defaultProps=Be;const Je=Object.assign(U,{Caption:Fe,Item:He});export{Je as C};
