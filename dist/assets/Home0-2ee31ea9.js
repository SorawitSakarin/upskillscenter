import{u as h,j as e,r as d,a as g}from"./index-55cceeff.js";import{u as j}from"./http-hook-dc2aacf9.js";import{a as b}from"./index.esm-376e65ce.js";import{C as f,b as v}from"./index.esm-231efaf1.js";import{C as p}from"./Carousel-8906e508.js";import"./iconBase-4260ecf4.js";import"./Anchor-149a2421.js";import"./hook-e9eee1cb.js";import"./react-lifecycles-compat.es-22c986ff.js";import"./ElementChildren-9bc860c0.js";const o="/assets/Cover-4476ad1d.svg";const u=({courses:r})=>{const a=h(),t=(s,i,c)=>{i.toLowerCase()==="fundamental"?a(`/fundamental?v=card&topic=${c}&tag=${s}`):i.toLowerCase()==="tips"&&a(`/tips?v=card&topic=${c}&tag=${s}`)};return e.jsx("div",{className:"home-list",children:r.map((s,i)=>e.jsxs("div",{className:"home-card",onClick:()=>t(s.tag,s.type,s.topic),children:[e.jsxs("div",{className:"home-card-body",children:[e.jsx("div",{children:e.jsx("img",{src:s.cardBanner,alt:"card-banner",className:"home-card-banner"})}),e.jsxs("div",{className:"home-card-left",children:[e.jsxs("div",{className:"home-card-left-top",children:[e.jsx("p",{className:"p-h3",children:s.title}),e.jsx("h2",{children:s.tag})]}),e.jsx("div",{children:e.jsx("p",{className:"p-h5",children:s.type})})]})]}),e.jsxs("div",{className:"home-card-right",children:[s.completedCourses!==s.numberOfCourses&&e.jsx(f,{value:s.completedCourses/s.numberOfCourses*100,strokeWidth:14,styles:v({pathColor:"#F37103",trailColor:"#dedede"})}),s.completedCourses===s.numberOfCourses&&e.jsx(b,{size:20,color:"#F37103"}),e.jsxs("h2",{children:[s.completedCourses,"/",s.numberOfCourses]})]})]},i))})},T=({banners:r})=>e.jsx("div",{children:e.jsx(p,{children:r.map((a,t)=>e.jsx(p.Item,{children:e.jsx("div",{className:"carousel-card",children:e.jsx("img",{className:"d-block w-100",src:a,alt:"Banner"})})},t))})}),N=({banners:r,courses:a})=>{h();const[t,s]=d.useState(!0);return e.jsx("div",{children:e.jsxs("div",{className:"home-body",children:[e.jsx("div",{className:"home-banner",children:e.jsx(T,{banners:r})}),e.jsxs("div",{className:"home-right appear",children:[e.jsx("h1",{children:"Welcome"}),e.jsx("hr",{className:"separator"}),e.jsxs("div",{className:"home-right-tab",children:[e.jsx("button",{className:`tab-btn ${t?"buttonActive":""}`,onClick:()=>{s(!0)},children:"Suggested"}),e.jsx("button",{className:`tab-btn ${t?"":"buttonActive"}`,onClick:()=>{s(!1)},children:"Completed"})]}),t&&e.jsx(u,{courses:a.suggested}),!t&&e.jsx(u,{courses:a.completed})]})]})})},A=()=>{const[r,a]=d.useState(),{isLoading:t,error:s,sendRequest:i,clearError:c}=j();return d.useEffect(()=>{(async()=>{try{const l=await i("https://upskill-develop.herokuapp.com/api/banner");if(l){const C=window.location.hostname.split(".")[0],x=l.data.reduce((m,n)=>((n.subDomain==="all"||n.subDomain.split(",").includes(C))&&n.bannerType==="homepage"&&m.push(n.imageFile),m),[]);a(x)}}catch{}})()},[i]),e.jsxs("div",{children:[t&&e.jsx(g,{}),!t&&r&&e.jsx(N,{banners:r,courses:O})]})},O={suggested:[{topic:"TOEFL",title:"Toeic12",tag:"Listening",type:"Fundamental",completedCourses:1,numberOfCourses:4,cardBanner:o},{topic:"TOEIC",title:"Toeic21",tag:"Reading",type:"Fundamental",completedCourses:1,numberOfCourses:4,cardBanner:o},{topic:"TOEIC",title:"Toeic12",tag:"Tense",type:"Tips",completedCourses:2,numberOfCourses:7,cardBanner:o},{topic:"TOEIC",title:"Toeic21",tag:"Reading",type:"Fundamental",completedCourses:1,numberOfCourses:7,cardBanner:o},{topic:"TOEIC",title:"Toeic12",tag:"Tense",type:"Tips",completedCourses:3,numberOfCourses:4,cardBanner:o}],completed:[{topic:"TOEIC",title:"Toeic12",tag:"Tense",type:"Tips",completedCourses:2,numberOfCourses:2,cardBanner:o},{topic:"TOEIC",title:"Toeic12",tag:"Tense",type:"Tips",completedCourses:4,numberOfCourses:4,cardBanner:o}]};export{A as default};
