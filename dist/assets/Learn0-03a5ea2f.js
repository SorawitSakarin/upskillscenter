import{u as h,r as p,A as x,j as a,P as f,a as v}from"./index-55cceeff.js";import{u as j}from"./http-hook-dc2aacf9.js";import{Y as k}from"./YouTube.esm-ce1361be.js";import{D as C}from"./DownloadButton-0557c99f.js";import{b as w}from"./Default-10-8aff1d4f.js";/* empty css             */import"./index.esm-376e65ce.js";import"./iconBase-4260ecf4.js";import"./LoadingSpinnerPuff-b9c0cf14.js";const D=({course:t})=>{const n=h(),i=p.useContext(x),r={backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.6)), url(${JSON.parse(localStorage.getItem("school")||"null").backgroundLogin})`},m=t.videoUrl.split("?v=")[1],l={height:"390",width:"940",playerVars:{autoplay:1}},c=(d,e,o)=>{e.toLowerCase()==="fundamental"?n(`/fundamental?v=card&topic=${o}&tag=${d}`):e.toLowerCase()==="tips"&&n(`/tips?v=card&topic=${o}&tag=${d}`)};return a.jsx("div",{className:"learn-background",children:a.jsxs("div",{className:"learn-body",children:[a.jsxs("div",{className:"learn-header",style:r,children:[a.jsx("div",{className:"back-button-circle",onClick:()=>c(t.tag,t.courseType,t.preTestId),children:a.jsx("img",{src:w,alt:"back button",width:24})}),a.jsxs("h1",{children:[t.topic," - ",t.tag]})]}),a.jsx("div",{className:"youtube-video",children:a.jsx(k,{videoId:m,opts:l})}),a.jsx("div",{className:"download-pdf-btn",children:a.jsx(C,{title:"Download Studies Material PDF",studentList:t.studentList,backgroundColor:"#f37103",file:t.sheetFile,studentId:i.userId,courseId:t.id,topic:t.topic,color:"white"})})]})})},T=()=>{const t=h(),{courseId:n}=f(),{isLoading:i,error:g,sendRequest:r,clearError:m}=j(),[l,c]=p.useState();return p.useEffect(()=>{(async()=>{var e,o;try{const u=await r(`https://upskill-develop.herokuapp.com/api/course/${n}`);if(u){const s=u.data,b=window.location.hostname.split(".")[0];(s==null?void 0:s.subDomain)==="all"||(o=(e=s==null?void 0:s.subDomain)==null?void 0:e.split(","))!=null&&o.includes(b)?c(s):t("/home")}}catch{t("/home")}})()},[r]),a.jsxs("div",{children:[i&&a.jsx(v,{}),!i&&l&&a.jsx(D,{course:l})]})};export{T as default};
